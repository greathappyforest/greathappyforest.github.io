---
layout: leetcode
title: leetcode 42 - Trapping Rain Water
categories:
  - study
tags:
  - algorithms
  - interview_2019
date: 2019-04-21 21:03:15
---

### [42\. Trapping Rain Water](https://leetcode.com/problems/trapping-rain-water/)

Difficulty: **Hard**

Given _n_ non-negative integers representing an elevation map where the width of each bar is 1, compute how much water it is able to trap after raining.

![](https://assets.leetcode.com/uploads/2018/10/22/rainwatertrap.png)  
<small style="display: inline;">The above elevation map is represented by array [0,1,0,2,1,0,1,3,2,1,2,1]. In this case, 6 units of rain water (blue section) are being trapped. **Thanks Marcos** for contributing this image!</small>

**Example:**

```
Input: [0,1,0,2,1,0,1,3,2,1,2,1]
Output: 6
```

#### Solution

Language: **Java**

```java
class Solution {
  public static int trap(int[] height) {
        int sumOfWater = 0;
        if (height == null || height.length <= 2) return sumOfWater;
​
        int leftMax = height[0];
        int rightMax = height[height.length - 1];
        int left = 0;
        int right = height.length - 1;
​
​
        while (left < right) {
            if (leftMax < rightMax) {
                if (height[left] > leftMax) {
                    leftMax = height[left];
                } else {
                    sumOfWater += (leftMax - height[left]);
                    left++;
                }
            }
            // 同理右边也是一样，当左右两边指针相遇，全局结算完毕。return sumofwater
            else {
                if (height[right] > rightMax) {
                    rightMax = height[right];
                } else {
                    sumOfWater += (rightMax - height[right]);
                    right--;
                }
            }
        }
        return sumOfWater;
    }
​
}
```
